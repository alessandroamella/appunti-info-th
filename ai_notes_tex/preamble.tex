% =========================================================================
% ===                COMMON PREAMBLE FOR ALL LECTURES                   ===
% =========================================================================

\documentclass[a4paper, 11pt, openany]{book} % Use 'book' class for chapters, openany allows chapters to start on any page

% --- Core Packages ---
\usepackage[italian]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amssymb, amsfonts}
\usepackage{graphicx}
\usepackage{dot2texi}
\usepackage[a4paper, total={6.3in, 9.2in}]{geometry}

% --- Fonts and Appearance ---
% \usepackage{mathpazo} % For a nicer font
\usepackage[scaled]{helvet}
\renewcommand{\familydefault}{\sfdefault}
\usepackage[T1]{fontenc}
\usepackage{fancyhdr} % For custom headers and footers

% --- Special Content Packages ---
\usepackage{minted} % For pseudocode. Requires --shell-escape compiler flag
\usepackage{amsthm}   % For theorem environments
\usepackage{tikz}     % For diagrams
\usepackage[shortlabels]{enumitem} % For customized lists with backward compatibility
\usepackage{subcaption} % For subfigures
\usepackage{float}    % For figure placement [H]

% --- Enumitem Configuration ---
% Set up enumitem to handle standard enumerate environments properly
\setlist[enumerate]{label=\arabic*.}

% --- Hyperlinking ---
\usepackage{hyperref}

% --- TikZ Libraries (superset of all used libraries) ---
\usetikzlibrary{
    automata,
    positioning,
    arrows,
    arrows.meta,
    calc,
    fit,
    patterns,
    graphs,
    graphdrawing,
    matrix,
    quotes,
    shapes.geometric,
    snakes,
    shapes,
    decorations.pathreplacing,
    calligraphy,
}

% --- Theorem-like Environments (numbered within sections for consistency) ---
\theoremstyle{definition} % Use definition style for normal (non-italic) text
\newtheorem{theorem}{Teorema}[section]
\newtheorem{definition}[theorem]{Definizione}
\newtheorem{example}[theorem]{Esempio}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposizione}
\newtheorem{corollary}[theorem]{Corollario}
\newtheorem{remark}[theorem]{Osservazione}
\newtheorem{proof_sketch}[theorem]{Sketch di Dimostrazione}

% --- Custom Proof Environment ---
\theoremstyle{definition}
\newtheorem*{proof*}{Dimostrazione}

% --- Custom Commands (from various lectures) ---
% For Turing Machine symbols (from lecture 9/10)
\newcommand{\B}{\text{B}} % Blank symbol
\newcommand{\SigmaI}{\Sigma_I} % Input Alphabet
\newcommand{\GammaT}{\Gamma} % Tape Alphabet
\newcommand{\alphaSym}{\alpha} % Generic symbol from input alphabet (non-#)


% Comandi personalizzati per simboli TM
% \newcommand{\B}{\texttt{B}} % Blank symbol
\newcommand{\Sh}{\texttt{\#}} % Sharp symbol
\newcommand{\X}{\texttt{X}} % Counter symbol
% \newcommand{\alphaSym}{\alpha} % Generic symbol from input alphabet (non-#)
\newcommand{\betaSym}{\beta}  % Another generic symbol
\newcommand{\any}{\_} % Wildcard symbol

\newcommand{\blankS}{\ensuremath{\square}}

% For TikZ diagrams (from lecture 27)
\tikzset{
    green_arrow/.style={-Latex, thick, draw=green!70!black},
    red_arrow/.style={-Latex, thick, draw=red!70!black},
    black_arrow/.style={-Latex, thick, draw=black},
    double_black_arrow/.style={-Latex, thick, draw=black, double},
    node_style/.style={circle, draw, fill=white, inner sep=1pt},
    small_node_style/.style={circle, draw, fill=lightgray, inner sep=0.5pt},
    diamond_node_style/.style={diamond, draw, fill=white, inner sep=1pt},
    clause_node_style/.style={rectangle, draw, fill=white, inner sep=2pt},
    transition_label/.style={text width=3cm, align=center},
}

% --- PDF Metadata ---
\hypersetup{
    pdftitle={Appunti Completi di Informatica Teorica},
    pdfauthor={Appunti da Trascrizione AI}
}

% --- Header and Footer Configuration ---
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\textit{Informatica Teorica}} % Right on Odd, Left on Even
\fancyhead[RE,LO]{\nouppercase{\leftmark}} % Chapter name
\fancyfoot[C]{\thepage}

% =========================================================================
% ===                  END OF COMMON PREAMBLE                           ===
% =========================================================================
